{
    "hints": {
        "deleteApplication()void": {
            "call_config": {
                "delete_application": "CALL"
            }
        },
        "updateApplication()void": {
            "call_config": {
                "update_application": "CALL"
            }
        },
        "withdraw(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "deleteBoxes(byte[4][])void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "register(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "registerList(uint64[])void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "exists(address)bool": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "get(address)uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "mustGet(address)uint64": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getWithAuth(address)(uint64,uint64)": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            },
            "structs": {
                "output": {
                    "name": "AddressWithAuth",
                    "elements": [
                        [
                            "appId",
                            "uint64"
                        ],
                        [
                            "authAppId",
                            "uint64"
                        ]
                    ]
                }
            }
        },
        "getWithAuthList(address[])(uint64,uint64)[]": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "getList(address[])uint64[]": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "mustGetList(address[])uint64[]": {
            "read_only": true,
            "call_config": {
                "no_op": "CALL"
            }
        },
        "increaseBudget(uint64)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "depositCredits(address,pay)void": {
            "call_config": {
                "no_op": "CALL"
            }
        },
        "withdrawCredits()void": {
            "call_config": {
                "no_op": "CALL"
            }
        }
    },
    "source": {
        "approval": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYXJjNC9pbmRleC5kLnRzOjpDb250cmFjdC5hcHByb3ZhbFByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBpbnRjYmxvY2sgMCAxIDQgOAogICAgYnl0ZWNibG9jayAiYyIgImNvdW50ZXIiIDB4MTUxZjdjNzUgIiIgMHgwMDAxICJFUlI6NDA0IiAweDAwMDAgImFkbWluIiAweDBhODEwMSAiRVJSOlJDViIgIkVSUjpBTVQiICJhcHBJRCIKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBibnogbWFpbl9hZnRlcl9pZl9lbHNlQDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyOAogICAgLy8gYWRtaW4gPSBHbG9iYWxTdGF0ZTxBZGRyZXNzPih7IGluaXRpYWxWYWx1ZTogbmV3IEFkZHJlc3MoVHhuLnNlbmRlcikgfSkKICAgIGJ5dGVjIDcgLy8gImFkbWluIgogICAgdHhuIFNlbmRlcgogICAgYXBwX2dsb2JhbF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMgogICAgLy8gY291bnRlciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzEgLy8gImNvdW50ZXIiCiAgICBpbnRjXzAgLy8gMAogICAgYXBwX2dsb2JhbF9wdXQKCm1haW5fYWZ0ZXJfaWZfZWxzZUAyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI2CiAgICAvLyBleHBvcnQgY2xhc3MgRXNjcmVnIGV4dGVuZHMgTWJyTWFuYWdlciBpbXBsZW1lbnRzIENvbnZlbnRpb25hbFJvdXRpbmcgewogICAgdHhuIE51bUFwcEFyZ3MKICAgIGJ6IG1haW5fX19hbGdvdHNfXy5kZWZhdWx0Q3JlYXRlQDI2CiAgICBwdXNoYnl0ZXNzIDB4MjQ4N2MzMmMgMHg0NmY3NjUzMyAvLyBtZXRob2QgImRlbGV0ZUFwcGxpY2F0aW9uKCl2b2lkIiwgbWV0aG9kICJ1cGRhdGVBcHBsaWNhdGlvbigpdm9pZCIKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDAKICAgIG1hdGNoIG1haW5fZGVsZXRlQXBwbGljYXRpb25fcm91dGVANSBtYWluX3VwZGF0ZUFwcGxpY2F0aW9uX3JvdXRlQDYKCm1haW5fc3dpdGNoX2Nhc2VfbmV4dEA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI2CiAgICAvLyBleHBvcnQgY2xhc3MgRXNjcmVnIGV4dGVuZHMgTWJyTWFuYWdlciBpbXBsZW1lbnRzIENvbnZlbnRpb25hbFJvdXRpbmcgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIE5vT3AKICAgIHR4biBBcHBsaWNhdGlvbklECiAgICBhc3NlcnQKICAgIHB1c2hieXRlc3MgMHgyMWYxZGRmZiAweGYzZThiYWUzIDB4ZjdlOTlhODMgMHg3MmJmNmRjNCAweDRjOWZiNjU2IDB4ODllNzk5MjQgMHg0MGU2NTI2MiAweDE5MzYyNWY4IDB4OTBjOTU1MGYgMHhiNTYxYzI1NiAweDgyYjQzNWY4IDB4NDExOGVjYmYgMHgzZDc1ZjBjNCAweGVhZWU3ZmJkIC8vIG1ldGhvZCAid2l0aGRyYXcodWludDY0KXZvaWQiLCBtZXRob2QgImRlbGV0ZUJveGVzKGJ5dGVbNF1bXSl2b2lkIiwgbWV0aG9kICJyZWdpc3Rlcih1aW50NjQpdm9pZCIsIG1ldGhvZCAicmVnaXN0ZXJMaXN0KHVpbnQ2NFtdKXZvaWQiLCBtZXRob2QgImV4aXN0cyhhZGRyZXNzKWJvb2wiLCBtZXRob2QgImdldChhZGRyZXNzKXVpbnQ2NCIsIG1ldGhvZCAibXVzdEdldChhZGRyZXNzKXVpbnQ2NCIsIG1ldGhvZCAiZ2V0V2l0aEF1dGgoYWRkcmVzcykodWludDY0LHVpbnQ2NCkiLCBtZXRob2QgImdldFdpdGhBdXRoTGlzdChhZGRyZXNzW10pKHVpbnQ2NCx1aW50NjQpW10iLCBtZXRob2QgImdldExpc3QoYWRkcmVzc1tdKXVpbnQ2NFtdIiwgbWV0aG9kICJtdXN0R2V0TGlzdChhZGRyZXNzW10pdWludDY0W10iLCBtZXRob2QgImluY3JlYXNlQnVkZ2V0KHVpbnQ2NCl2b2lkIiwgbWV0aG9kICJkZXBvc2l0Q3JlZGl0cyhhZGRyZXNzLHBheSl2b2lkIiwgbWV0aG9kICJ3aXRoZHJhd0NyZWRpdHMoKXZvaWQiCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAwCiAgICBtYXRjaCB3aXRoZHJhdyBkZWxldGVCb3hlcyByZWdpc3RlciByZWdpc3Rlckxpc3QgZXhpc3RzIGdldCBtdXN0R2V0IGdldFdpdGhBdXRoIGdldFdpdGhBdXRoTGlzdCBnZXRMaXN0IG11c3RHZXRMaXN0IGluY3JlYXNlQnVkZ2V0IGRlcG9zaXRDcmVkaXRzIHdpdGhkcmF3Q3JlZGl0cwogICAgZXJyCgptYWluX3VwZGF0ZUFwcGxpY2F0aW9uX3JvdXRlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6NTEKICAgIC8vIEBhYmltZXRob2QoeyB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgdHhuIE9uQ29tcGxldGlvbgogICAgaW50Y18yIC8vIFVwZGF0ZUFwcGxpY2F0aW9uCiAgICA9PQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgVXBkYXRlQXBwbGljYXRpb24gJiYgY2FuIG9ubHkgY2FsbCB3aGVuIG5vdCBjcmVhdGluZwogICAgYiB1cGRhdGVBcHBsaWNhdGlvbgoKbWFpbl9kZWxldGVBcHBsaWNhdGlvbl9yb3V0ZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjQyCiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4biBPbkNvbXBsZXRpb24KICAgIHB1c2hpbnQgNSAvLyBEZWxldGVBcHBsaWNhdGlvbgogICAgPT0KICAgIHR4biBBcHBsaWNhdGlvbklECiAgICAmJgogICAgYXNzZXJ0IC8vIE9uQ29tcGxldGlvbiBtdXN0IGJlIERlbGV0ZUFwcGxpY2F0aW9uICYmIGNhbiBvbmx5IGNhbGwgd2hlbiBub3QgY3JlYXRpbmcKICAgIGIgZGVsZXRlQXBwbGljYXRpb24KCm1haW5fX19hbGdvdHNfXy5kZWZhdWx0Q3JlYXRlQDI2OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI2CiAgICAvLyBleHBvcnQgY2xhc3MgRXNjcmVnIGV4dGVuZHMgTWJyTWFuYWdlciBpbXBsZW1lbnRzIENvbnZlbnRpb25hbFJvdXRpbmcgewogICAgdHhuIE9uQ29tcGxldGlvbgogICAgIQogICAgdHhuIEFwcGxpY2F0aW9uSUQKICAgICEKICAgICYmCiAgICBhc3NlcnQgLy8gT25Db21wbGV0aW9uIG11c3QgYmUgTm9PcCAmJiBjYW4gb25seSBjYWxsIHdoZW4gY3JlYXRpbmcKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5kZWxldGVBcHBsaWNhdGlvbltyb3V0aW5nXSgpIC0+IHZvaWQ6CmRlbGV0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjQ0CiAgICAvLyB0aGlzLmFkbWluT25seSgpCiAgICBjYWxsc3ViIGFkbWluT25seQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjQyCiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy51cGRhdGVBcHBsaWNhdGlvbltyb3V0aW5nXSgpIC0+IHZvaWQ6CnVwZGF0ZUFwcGxpY2F0aW9uOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjUzCiAgICAvLyB0aGlzLmFkbWluT25seSgpCiAgICBjYWxsc3ViIGFkbWluT25seQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjUxCiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy53aXRoZHJhd1tyb3V0aW5nXSgpIC0+IHZvaWQ6CndpdGhkcmF3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjYxCiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo2MwogICAgLy8gdGhpcy5hZG1pbk9ubHkoKQogICAgY2FsbHN1YiBhZG1pbk9ubHkKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo2NC02OQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50LAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo2NgogICAgLy8gcmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICB0eG4gU2VuZGVyCiAgICBpdHhuX2ZpZWxkIFJlY2VpdmVyCiAgICBpdHhuX2ZpZWxkIEFtb3VudAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjY0LTY4CiAgICAvLyBpdHhuCiAgICAvLyAgIC5wYXltZW50KHsKICAgIC8vICAgICByZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIC8vICAgICBhbW91bnQsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6NjQtNjkKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX3N1Ym1pdAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjYxCiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5kZWxldGVCb3hlc1tyb3V0aW5nXSgpIC0+IHZvaWQ6CmRlbGV0ZUJveGVzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjc3CiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjc5CiAgICAvLyB0aGlzLmFkbWluT25seSgpCiAgICBjYWxsc3ViIGFkbWluT25seQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjgwCiAgICAvLyBmb3IgKGNvbnN0IGtleSBvZiBib3hLZXlzKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18wIC8vIDAKCmRlbGV0ZUJveGVzX2Zvcl9oZWFkZXJAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo4MAogICAgLy8gZm9yIChjb25zdCBrZXkgb2YgYm94S2V5cykgewogICAgZHVwCiAgICBkaWcgMgogICAgPAogICAgYnogZGVsZXRlQm94ZXNfYWZ0ZXJfZm9yQDUKICAgIGRpZyAyCiAgICBleHRyYWN0IDIgMAogICAgZGlnIDEKICAgIGR1cAogICAgY292ZXIgMgogICAgaW50Y18yIC8vIDQKICAgICoKICAgIGludGNfMiAvLyA0CiAgICBleHRyYWN0MyAvLyBvbiBlcnJvcjogaW5kZXggYWNjZXNzIGlzIG91dCBvZiBib3VuZHMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo4MQogICAgLy8gdGhpcy5hcHBzKGtleSkuZGVsZXRlKCkKICAgIGJveF9kZWwKICAgIHBvcAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiBkZWxldGVCb3hlc19mb3JfaGVhZGVyQDIKCmRlbGV0ZUJveGVzX2FmdGVyX2ZvckA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjc3CiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5yZWdpc3Rlcltyb3V0aW5nXSgpIC0+IHZvaWQ6CnJlZ2lzdGVyOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjk5CiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjEwMQogICAgLy8gY29uc3QgbWJyQmVmb3JlID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MubWluQmFsYW5jZQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgc3dhcAogICAgY292ZXIgMgogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTAzCiAgICAvLyBjb25zdCBrZXkgPSB0aGlzLmRlcml2ZUFkZHJQcmVmaXgoYXBwSWQpCiAgICBjYWxsc3ViIGRlcml2ZUFkZHJQcmVmaXgKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjEwNAogICAgLy8gaWYgKCF0aGlzLmFwcHMoa2V5KS5leGlzdHMpIHsKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYm56IHJlZ2lzdGVyX2Vsc2VfYm9keUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTA1CiAgICAvLyB0aGlzLmNvdW50ZXIudmFsdWUgKz0gMQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMgogICAgLy8gY291bnRlciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzEgLy8gImNvdW50ZXIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTA1CiAgICAvLyB0aGlzLmNvdW50ZXIudmFsdWUgKz0gMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzIKICAgIC8vIGNvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18xIC8vICJjb3VudGVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjEwNQogICAgLy8gdGhpcy5jb3VudGVyLnZhbHVlICs9IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTA2CiAgICAvLyB0aGlzLmFwcHMoa2V5KS52YWx1ZSA9IFthcHBJZF0KICAgIGRpZyAyCiAgICBpdG9iCiAgICBieXRlYyA0IC8vIDB4MDAwMQogICAgc3dhcAogICAgY29uY2F0CiAgICBzd2FwCiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAoKcmVnaXN0ZXJfYWZ0ZXJfaWZfZWxzZUA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjExMQogICAgLy8gdGhpcy5tYW5hZ2VNYnJDcmVkaXRzKG1ickJlZm9yZSkKICAgIGR1cAogICAgY2FsbHN1YiBtYW5hZ2VNYnJDcmVkaXRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OTkKICAgIC8vIEBhYmltZXRob2QoeyB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKcmVnaXN0ZXJfZWxzZV9ib2R5QDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTA4CiAgICAvLyB0aGlzLmFwcGVuZEFwcElkKGtleSwgYXBwSWQpCiAgICBkaWcgMgogICAgY2FsbHN1YiBhcHBlbmRBcHBJZAogICAgYiByZWdpc3Rlcl9hZnRlcl9pZl9lbHNlQDQKCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5yZWdpc3Rlckxpc3Rbcm91dGluZ10oKSAtPiB2b2lkOgpyZWdpc3Rlckxpc3Q6CiAgICBpbnRjXzAgLy8gMAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjExOQogICAgLy8gQGFiaW1ldGhvZCh7IHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxMjEKICAgIC8vIGNvbnN0IG1ickJlZm9yZSA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLm1pbkJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIHN3YXAKICAgIGNvdmVyIDIKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjEyMwogICAgLy8gZm9yIChjb25zdCBhcHBJZCBvZiBhcHBJZHMpIHsKICAgIGludGNfMCAvLyAwCiAgICBleHRyYWN0X3VpbnQxNiAvLyBvbiBlcnJvcjogaW52YWxpZCBhcnJheSBsZW5ndGggaGVhZGVyCiAgICBpbnRjXzAgLy8gMAoKcmVnaXN0ZXJMaXN0X2Zvcl9oZWFkZXJAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxMjMKICAgIC8vIGZvciAoY29uc3QgYXBwSWQgb2YgYXBwSWRzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiByZWdpc3Rlckxpc3RfYWZ0ZXJfZm9yQDgKICAgIGRpZyAzCiAgICBleHRyYWN0IDIgMAogICAgZGlnIDEKICAgIGludGNfMyAvLyA4CiAgICAqCiAgICBleHRyYWN0X3VpbnQ2NAogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTI0CiAgICAvLyBjb25zdCBrZXkgPSB0aGlzLmRlcml2ZUFkZHJQcmVmaXgoYXBwSWQpCiAgICBjYWxsc3ViIGRlcml2ZUFkZHJQcmVmaXgKICAgIGR1cAogICAgYnVyeSA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTI1CiAgICAvLyBpZiAoIXRoaXMuYXBwcyhrZXkpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBibnogcmVnaXN0ZXJMaXN0X2Vsc2VfYm9keUA1CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTI2CiAgICAvLyB0aGlzLmNvdW50ZXIudmFsdWUgKz0gMQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMgogICAgLy8gY291bnRlciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzEgLy8gImNvdW50ZXIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTI2CiAgICAvLyB0aGlzLmNvdW50ZXIudmFsdWUgKz0gMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzIKICAgIC8vIGNvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18xIC8vICJjb3VudGVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjEyNgogICAgLy8gdGhpcy5jb3VudGVyLnZhbHVlICs9IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTI3CiAgICAvLyB0aGlzLmFwcHMoa2V5KS52YWx1ZSA9IFthcHBJZF0KICAgIGl0b2IKICAgIGJ5dGVjIDQgLy8gMHgwMDAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGRpZyA1CiAgICBkdXAKICAgIGJveF9kZWwKICAgIHBvcAogICAgc3dhcAogICAgYm94X3B1dAoKcmVnaXN0ZXJMaXN0X2FmdGVyX2lmX2Vsc2VANjoKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiByZWdpc3Rlckxpc3RfZm9yX2hlYWRlckAyCgpyZWdpc3Rlckxpc3RfZWxzZV9ib2R5QDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTI5CiAgICAvLyB0aGlzLmFwcGVuZEFwcElkKGtleSwgYXBwSWQpCiAgICBkaWcgNQogICAgc3dhcAogICAgY2FsbHN1YiBhcHBlbmRBcHBJZAogICAgYiByZWdpc3Rlckxpc3RfYWZ0ZXJfaWZfZWxzZUA2CgpyZWdpc3Rlckxpc3RfYWZ0ZXJfZm9yQDg6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTMzCiAgICAvLyB0aGlzLm1hbmFnZU1ickNyZWRpdHMobWJyQmVmb3JlKQogICAgZGlnIDIKICAgIGNhbGxzdWIgbWFuYWdlTWJyQ3JlZGl0cwogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjExOQogICAgLy8gQGFiaW1ldGhvZCh7IHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcuZXhpc3RzW3JvdXRpbmddKCkgLT4gdm9pZDoKZXhpc3RzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE5MgogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwbiAyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTk0CiAgICAvLyBjb25zdCBhZGRyNCA9IGFkZHJlc3MuYnl0ZXMuc2xpY2UoMCwgNCkudG9GaXhlZCh7IHN0cmF0ZWd5OiAndW5zYWZlLWNhc3QnLCBsZW5ndGg6IDQgfSkKICAgIGxlbgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAxCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgaW50Y18yIC8vIDQKICAgIGRpZyAyCiAgICA+PQogICAgaW50Y18yIC8vIDQKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN1YnN0cmluZzMKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE5NgogICAgLy8gaWYgKCF0aGlzLmFwcHMoYWRkcjQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBibnogZXhpc3RzX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE5NwogICAgLy8gcmV0dXJuIGZhbHNlCiAgICBpbnRjXzAgLy8gMAoKZXhpc3RzX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcuZXhpc3RzQDQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTkyCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUsIHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICBwdXNoYnl0ZXMgMHgwMAogICAgaW50Y18wIC8vIDAKICAgIHVuY292ZXIgMgogICAgc2V0Yml0CiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgpleGlzdHNfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjIwMAogICAgLy8gY29uc3QgYXBwcyA9IHRoaXMuYXBwcyhhZGRyNCkudmFsdWUgYXMgUmVhZG9ubHk8dWludDY0W10+CiAgICBkdXAKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjAxCiAgICAvLyBjb25zdCBtYXRjaGluZ0FwcElEID0gdGhpcy5maW5kQWRkcihhZGRyZXNzLCBhcHBzKQogICAgZGlnIDIKICAgIHN3YXAKICAgIGNhbGxzdWIgZmluZEFkZHIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyMDMKICAgIC8vIHJldHVybiBtYXRjaGluZ0FwcElEICE9PSAwCiAgICBpbnRjXzAgLy8gMAogICAgIT0KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxOTIKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSwgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGIgZXhpc3RzX2FmdGVyX2lubGluZWRfc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcuZXhpc3RzQDQKCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5nZXRbcm91dGluZ10oKSAtPiB2b2lkOgpnZXQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjExCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUsIHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyMTMKICAgIC8vIGNvbnN0IGFkZHI0ID0gYWRkcmVzcy5ieXRlcy5zbGljZSgwLCA0KS50b0ZpeGVkKHsgc3RyYXRlZ3k6ICd1bnNhZmUtY2FzdCcsIGxlbmd0aDogNCB9KQogICAgbGVuCiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDEKICAgID49CiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBpbnRjXzIgLy8gNAogICAgZGlnIDIKICAgID49CiAgICBpbnRjXzIgLy8gNAogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3Vic3RyaW5nMwogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjE1CiAgICAvLyBpZiAoIXRoaXMuYXBwcyhhZGRyNCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJueiBnZXRfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjE2CiAgICAvLyByZXR1cm4gMAogICAgaW50Y18wIC8vIDAKCmdldF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo6RXNjcmVnLmdldEA0OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjIxMQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgaXRvYgogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZ2V0X2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyMTkKICAgIC8vIGNvbnN0IGFwcHMgPSB0aGlzLmFwcHMoYWRkcjQpLnZhbHVlIGFzIFJlYWRvbmx5PHVpbnQ2NFtdPgogICAgZHVwCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjIyMAogICAgLy8gY29uc3QgbWF0Y2hpbmdBcHBJRCA9IHRoaXMuZmluZEFkZHIoYWRkcmVzcywgYXBwcykKICAgIGRpZyAyCiAgICBzd2FwCiAgICBjYWxsc3ViIGZpbmRBZGRyCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjExCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUsIHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICBiIGdldF9hZnRlcl9pbmxpbmVkX3NtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo6RXNjcmVnLmdldEA0CgoKLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcubXVzdEdldFtyb3V0aW5nXSgpIC0+IHZvaWQ6Cm11c3RHZXQ6CiAgICBieXRlY18zIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjMxCiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUsIHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICBkdXBuIDIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyMzMKICAgIC8vIGNvbnN0IGFkZHI0ID0gYWRkcmVzcy5ieXRlcy5zbGljZSgwLCA0KS50b0ZpeGVkKHsgc3RyYXRlZ3k6ICd1bnNhZmUtY2FzdCcsIGxlbmd0aDogNCB9KQogICAgbGVuCiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDEKICAgID49CiAgICBpbnRjXzAgLy8gMAogICAgZGlnIDIKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBpbnRjXzIgLy8gNAogICAgZGlnIDIKICAgID49CiAgICBpbnRjXzIgLy8gNAogICAgdW5jb3ZlciAzCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgc3Vic3RyaW5nMwogICAgZHVwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjM1CiAgICAvLyBlbnN1cmUodGhpcy5hcHBzKGFkZHI0KS5leGlzdHMsIGVyckFwcE5vdFJlZ2lzdGVyZWQpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo0CiAgICAvLyBpZiAoIWNvbmRpdGlvbikgewogICAgYm56IG11c3RHZXRfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjM1CiAgICAvLyBlbnN1cmUodGhpcy5hcHBzKGFkZHI0KS5leGlzdHMsIGVyckFwcE5vdFJlZ2lzdGVyZWQpCiAgICBieXRlYyA1IC8vICJFUlI6NDA0IgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjUKICAgIC8vIGxvZyhtZXNzYWdlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NgogICAgLy8gZXJyKCkKICAgIGVycgoKbXVzdEdldF9hZnRlcl9pZl9lbHNlQDM6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjM3CiAgICAvLyBjb25zdCBhcHBzID0gdGhpcy5hcHBzKGFkZHI0KS52YWx1ZSBhcyBSZWFkb25seTx1aW50NjRbXT4KICAgIGR1cAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyMzgKICAgIC8vIGNvbnN0IG1hdGNoaW5nQXBwSUQgPSB0aGlzLmZpbmRBZGRyKGFkZHJlc3MsIGFwcHMpCiAgICBkaWcgMgogICAgc3dhcAogICAgY2FsbHN1YiBmaW5kQWRkcgogICAgZHVwCiAgICBidXJ5IDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo0CiAgICAvLyBpZiAoIWNvbmRpdGlvbikgewogICAgYm56IG11c3RHZXRfYWZ0ZXJfaWZfZWxzZUA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjQwCiAgICAvLyBlbnN1cmUobWF0Y2hpbmdBcHBJRCAhPT0gMCwgZXJyQXBwTm90UmVnaXN0ZXJlZCkKICAgIGJ5dGVjIDUgLy8gIkVSUjo0MDQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NQogICAgLy8gbG9nKG1lc3NhZ2UpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo2CiAgICAvLyBlcnIoKQogICAgZXJyCgptdXN0R2V0X2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyMzEKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSwgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGRpZyAyCiAgICBpdG9iCiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgIHN3YXAKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcuZ2V0V2l0aEF1dGhbcm91dGluZ10oKSAtPiB2b2lkOgpnZXRXaXRoQXV0aDoKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIGJ5dGVjXzMgLy8gIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyNTAKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSwgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI1MgogICAgLy8gY29uc3QgYWRkcjQgPSBhZGRyZXNzLmJ5dGVzLnNsaWNlKDAsIDQpLnRvRml4ZWQoeyBzdHJhdGVneTogJ3Vuc2FmZS1jYXN0JywgbGVuZ3RoOiA0IH0pCiAgICBsZW4KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMQogICAgPj0KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGludGNfMiAvLyA0CiAgICBkaWcgMgogICAgPj0KICAgIGludGNfMiAvLyA0CiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBzdWJzdHJpbmczCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyNTQKICAgIC8vIGxldCBhcHBJZDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIHN3YXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyNTUKICAgIC8vIGlmICh0aGlzLmFwcHMoYWRkcjQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBnZXRXaXRoQXV0aF9hZnRlcl9pZl9lbHNlQDMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyNTYKICAgIC8vIGNvbnN0IGFwcHMgPSB0aGlzLmFwcHMoYWRkcjQpLnZhbHVlIGFzIFJlYWRvbmx5PHVpbnQ2NFtdPgogICAgZGlnIDEKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjU3CiAgICAvLyBhcHBJZCA9IHRoaXMuZmluZEFkZHIoYWRkcmVzcywgYXBwcykKICAgIGRpZyAzCiAgICBzd2FwCiAgICBjYWxsc3ViIGZpbmRBZGRyCiAgICBidXJ5IDEKCmdldFdpdGhBdXRoX2FmdGVyX2lmX2Vsc2VAMzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyNjAKICAgIC8vIGNvbnN0IGF1dGhBZGRyID0gYWRkcmVzcy5uYXRpdmUuYXV0aEFkZHJlc3MKICAgIGRpZyAyCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdEF1dGhBZGRyCiAgICBzd2FwCiAgICBkdXAKICAgIGNvdmVyIDIKICAgIGJ1cnkgOAogICAgYXNzZXJ0IC8vIGFjY291bnQgZnVuZGVkCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjYxCiAgICAvLyBjb25zdCBhdXRoQWRkcjQgPSBhdXRoQWRkci5ieXRlcy5zbGljZSgwLCA0KS50b0ZpeGVkKHsgc3RyYXRlZ3k6ICd1bnNhZmUtY2FzdCcsIGxlbmd0aDogNCB9KQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMQogICAgPj0KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGludGNfMiAvLyA0CiAgICBkaWcgMgogICAgPj0KICAgIGludGNfMiAvLyA0CiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBzdWJzdHJpbmczCiAgICBkdXAKICAgIGJ1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI2MwogICAgLy8gbGV0IGF1dGhBcHBJZDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI2NAogICAgLy8gaWYgKHRoaXMuYXBwcyhhdXRoQWRkcjQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBnZXRXaXRoQXV0aF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyNjUKICAgIC8vIGNvbnN0IGFwcHMgPSB0aGlzLmFwcHMoYXV0aEFkZHI0KS52YWx1ZSBhcyBSZWFkb25seTx1aW50NjRbXT4KICAgIGRpZyA0CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI2NgogICAgLy8gYXV0aEFwcElkID0gdGhpcy5maW5kQWRkcihuZXcgQWRkcmVzcyhhdXRoQWRkciksIGFwcHMpCiAgICBkaWcgNgogICAgc3dhcAogICAgY2FsbHN1YiBmaW5kQWRkcgogICAgYnVyeSA0CgpnZXRXaXRoQXV0aF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjY5CiAgICAvLyByZXR1cm4geyBhcHBJZCwgYXV0aEFwcElkIH0KICAgIGR1cAogICAgaXRvYgogICAgZGlnIDQKICAgIGl0b2IKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI1MAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICBzd2FwCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo6RXNjcmVnLmdldFdpdGhBdXRoTGlzdFtyb3V0aW5nXSgpIC0+IHZvaWQ6CmdldFdpdGhBdXRoTGlzdDoKICAgIGludGNfMCAvLyAwCiAgICBkdXBuIDMKICAgIGJ5dGVjXzMgLy8gIiIKICAgIGR1cAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI3NwogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI3OQogICAgLy8gbGV0IHJlc3VsdHM6IEFkZHJlc3NXaXRoQXV0aFtdID0gW10KICAgIGJ5dGVjIDYgLy8gMHgwMDAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6Mjc3CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUsIHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICB0eG5hIEFwcGxpY2F0aW9uQXJncyAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjgxCiAgICAvLyBmb3IgKGNvbnN0IGFkZHJlc3Mgb2YgYWRkcmVzc2VzKSB7CiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgaW50Y18wIC8vIDAKCmdldFdpdGhBdXRoTGlzdF9mb3JfaGVhZGVyQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjgxCiAgICAvLyBmb3IgKGNvbnN0IGFkZHJlc3Mgb2YgYWRkcmVzc2VzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiBnZXRXaXRoQXV0aExpc3RfYWZ0ZXJfZm9yQDkKICAgIGRpZyAzCiAgICBleHRyYWN0IDIgMAogICAgZGlnIDEKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgICoKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBidXJ5IDgKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyODIKICAgIC8vIGNvbnN0IGFkZHI0ID0gYWRkcmVzcy5ieXRlcy5zbGljZSgwLCA0KS50b0ZpeGVkKHsgc3RyYXRlZ3k6ICd1bnNhZmUtY2FzdCcsIGxlbmd0aDogNCB9KQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMQogICAgPj0KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGludGNfMiAvLyA0CiAgICBkaWcgMgogICAgPj0KICAgIGludGNfMiAvLyA0CiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBzdWJzdHJpbmczCiAgICBkdXAKICAgIGJ1cnkgMTEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyODQKICAgIC8vIGxldCBhcHBJZDogdWludDY0ID0gMAogICAgaW50Y18wIC8vIDAKICAgIGJ1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI4NQogICAgLy8gaWYgKHRoaXMuYXBwcyhhZGRyNCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IGdldFdpdGhBdXRoTGlzdF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyODYKICAgIC8vIGNvbnN0IGFwcHMgPSB0aGlzLmFwcHMoYWRkcjQpLnZhbHVlIGFzIFJlYWRvbmx5PHVpbnQ2NFtdPgogICAgZGlnIDkKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6Mjg3CiAgICAvLyBhcHBJZCA9IHRoaXMuZmluZEFkZHIoYWRkcmVzcywgYXBwcykKICAgIGRpZyA3CiAgICBzd2FwCiAgICBjYWxsc3ViIGZpbmRBZGRyCiAgICBidXJ5IDYKCmdldFdpdGhBdXRoTGlzdF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjkwCiAgICAvLyBjb25zdCBhdXRoQWRkciA9IGFkZHJlc3MubmF0aXZlLmF1dGhBZGRyZXNzCiAgICBkaWcgNgogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RBdXRoQWRkcgogICAgc3dhcAogICAgZHVwCiAgICBjb3ZlciAyCiAgICBidXJ5IDExCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyOTEKICAgIC8vIGNvbnN0IGF1dGhBZGRyNCA9IGF1dGhBZGRyLmJ5dGVzLnNsaWNlKDAsIDQpLnRvRml4ZWQoeyBzdHJhdGVneTogJ3Vuc2FmZS1jYXN0JywgbGVuZ3RoOiA0IH0pCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAxCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgaW50Y18yIC8vIDQKICAgIGRpZyAyCiAgICA+PQogICAgaW50Y18yIC8vIDQKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN1YnN0cmluZzMKICAgIGR1cAogICAgYnVyeSA5CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjkzCiAgICAvLyBsZXQgYXV0aEFwcElkOiB1aW50NjQgPSAwCiAgICBpbnRjXzAgLy8gMAogICAgYnVyeSA2CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6Mjk0CiAgICAvLyBpZiAodGhpcy5hcHBzKGF1dGhBZGRyNCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJ6IGdldFdpdGhBdXRoTGlzdF9hZnRlcl9pZl9lbHNlQDcKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoyOTUKICAgIC8vIGNvbnN0IGFwcHMgPSB0aGlzLmFwcHMoYXV0aEFkZHI0KS52YWx1ZSBhcyBSZWFkb25seTx1aW50NjRbXT4KICAgIGRpZyA3CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI5NgogICAgLy8gYXV0aEFwcElkID0gdGhpcy5maW5kQWRkcihuZXcgQWRkcmVzcyhhdXRoQWRkciksIGFwcHMpCiAgICBkaWcgOQogICAgc3dhcAogICAgY2FsbHN1YiBmaW5kQWRkcgogICAgYnVyeSA1CgpnZXRXaXRoQXV0aExpc3RfYWZ0ZXJfaWZfZWxzZUA3OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI5OQogICAgLy8gcmVzdWx0cy5wdXNoKHsgYXBwSWQsIGF1dGhBcHBJZCB9KQogICAgZGlnIDUKICAgIGl0b2IKICAgIGRpZyA1CiAgICBpdG9iCiAgICBjb25jYXQKICAgIGRpZyAzCiAgICBkdXAKICAgIHVuY292ZXIgMgogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBzd2FwCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgYnVyeSAzCiAgICBkdXAKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBidXJ5IDEKICAgIGIgZ2V0V2l0aEF1dGhMaXN0X2Zvcl9oZWFkZXJAMgoKZ2V0V2l0aEF1dGhMaXN0X2FmdGVyX2ZvckA5OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjI3NwogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgYnl0ZWNfMiAvLyAweDE1MWY3Yzc1CiAgICBkaWcgMwogICAgY29uY2F0CiAgICBsb2cKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5nZXRMaXN0W3JvdXRpbmddKCkgLT4gdm9pZDoKZ2V0TGlzdDoKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMTAKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSwgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMTIKICAgIC8vIGxldCBhcHBzOiB1aW50NjRbXSA9IFtdCiAgICBieXRlYyA2IC8vIDB4MDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMxMAogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMxNQogICAgLy8gZm9yIChjb25zdCBhZGRyZXNzIG9mIGFkZHJlc3NlcykgewogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMCAvLyAwCgpnZXRMaXN0X2Zvcl9oZWFkZXJAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMTUKICAgIC8vIGZvciAoY29uc3QgYWRkcmVzcyBvZiBhZGRyZXNzZXMpIHsKICAgIGR1cAogICAgZGlnIDIKICAgIDwKICAgIGJ6IGdldExpc3RfYWZ0ZXJfZm9yQDgKICAgIGRpZyAzCiAgICBleHRyYWN0IDIgMAogICAgZGlnIDEKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgICoKICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgIGV4dHJhY3QzIC8vIG9uIGVycm9yOiBpbmRleCBhY2Nlc3MgaXMgb3V0IG9mIGJvdW5kcwogICAgZHVwCiAgICBidXJ5IDYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMTYKICAgIC8vIGNvbnN0IGFkZHI0ID0gYWRkcmVzcy5ieXRlcy5zbGljZSgwLCA0KS50b0ZpeGVkKHsgc3RyYXRlZ3k6ICd1bnNhZmUtY2FzdCcsIGxlbmd0aDogNCB9KQogICAgZHVwCiAgICBsZW4KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMQogICAgPj0KICAgIGludGNfMCAvLyAwCiAgICBkaWcgMgogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIGludGNfMiAvLyA0CiAgICBkaWcgMgogICAgPj0KICAgIGludGNfMiAvLyA0CiAgICB1bmNvdmVyIDMKICAgIHVuY292ZXIgMgogICAgc2VsZWN0CiAgICBzdWJzdHJpbmczCiAgICBkdXAKICAgIGJ1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMxOAogICAgLy8gaWYgKCF0aGlzLmFwcHMoYWRkcjQpLmV4aXN0cykgewogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBibnogZ2V0TGlzdF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMTkKICAgIC8vIGFwcHMgPSBbLi4uYXBwcywgemVyb10KICAgIGRpZyAyCiAgICBwdXNoYnl0ZXMgMHgwMDAwMDAwMDAwMDAwMDAwCiAgICBjb25jYXQgLy8gb24gZXJyb3I6IG1heCBhcnJheSBsZW5ndGggZXhjZWVkZWQKICAgIGR1cAogICAgZXh0cmFjdCAyIDAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgIC8KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiAwCiAgICBidXJ5IDMKCmdldExpc3RfYmxvY2tANjoKICAgIGR1cAogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGJ1cnkgMQogICAgYiBnZXRMaXN0X2Zvcl9oZWFkZXJAMgoKZ2V0TGlzdF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzIzCiAgICAvLyBjb25zdCBhcHBMaXN0ID0gdGhpcy5hcHBzKGFkZHI0KS52YWx1ZSBhcyBSZWFkb25seTx1aW50NjRbXT4KICAgIGRpZyA1CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMyNAogICAgLy8gYXBwcyA9IFsuLi5hcHBzLCB0aGlzLmZpbmRBZGRyKGFkZHJlc3MsIGFwcExpc3QpXQogICAgZGlnIDUKICAgIHN3YXAKICAgIGNhbGxzdWIgZmluZEFkZHIKICAgIGl0b2IKICAgIGJ5dGVjIDQgLy8gMHgwMDAxCiAgICBzd2FwCiAgICBjb25jYXQKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMwogICAgc3dhcAogICAgY29uY2F0IC8vIG9uIGVycm9yOiBtYXggYXJyYXkgbGVuZ3RoIGV4Y2VlZGVkCiAgICBkdXAKICAgIGV4dHJhY3QgMiAwCiAgICBsZW4KICAgIGludGNfMyAvLyA4CiAgICAvCiAgICBpdG9iCiAgICBleHRyYWN0IDYgMgogICAgcmVwbGFjZTIgMAogICAgYnVyeSAzCiAgICBiIGdldExpc3RfYmxvY2tANgoKZ2V0TGlzdF9hZnRlcl9mb3JAODoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMTAKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSwgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIGJ5dGVjXzIgLy8gMHgxNTFmN2M3NQogICAgZGlnIDMKICAgIGNvbmNhdAogICAgbG9nCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcubXVzdEdldExpc3Rbcm91dGluZ10oKSAtPiB2b2lkOgptdXN0R2V0TGlzdDoKICAgIGludGNfMCAvLyAwCiAgICBkdXAKICAgIGJ5dGVjXzMgLy8gIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMzUKICAgIC8vIEBhYmltZXRob2QoeyByZWFkb25seTogdHJ1ZSwgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMzcKICAgIC8vIGxldCBhcHBzOiB1aW50NjRbXSA9IFtdCiAgICBieXRlYyA2IC8vIDB4MDAwMAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMzNQogICAgLy8gQGFiaW1ldGhvZCh7IHJlYWRvbmx5OiB0cnVlLCB2YWxpZGF0ZUVuY29kaW5nOiAndW5zYWZlLWRpc2FibGVkJyB9KQogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMzOAogICAgLy8gZm9yIChjb25zdCBhZGRyZXNzIG9mIGFkZHJlc3NlcykgewogICAgaW50Y18wIC8vIDAKICAgIGV4dHJhY3RfdWludDE2IC8vIG9uIGVycm9yOiBpbnZhbGlkIGFycmF5IGxlbmd0aCBoZWFkZXIKICAgIGludGNfMCAvLyAwCgptdXN0R2V0TGlzdF9mb3JfaGVhZGVyQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzM4CiAgICAvLyBmb3IgKGNvbnN0IGFkZHJlc3Mgb2YgYWRkcmVzc2VzKSB7CiAgICBkdXAKICAgIGRpZyAyCiAgICA8CiAgICBieiBtdXN0R2V0TGlzdF9hZnRlcl9mb3JANwogICAgZGlnIDMKICAgIGV4dHJhY3QgMiAwCiAgICBkaWcgMQogICAgcHVzaGludCAzMiAvLyAzMgogICAgKgogICAgcHVzaGludCAzMiAvLyAzMgogICAgZXh0cmFjdDMgLy8gb24gZXJyb3I6IGluZGV4IGFjY2VzcyBpcyBvdXQgb2YgYm91bmRzCiAgICBkdXAKICAgIGJ1cnkgNwogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjMzOQogICAgLy8gY29uc3QgYWRkcjQgPSBhZGRyZXNzLmJ5dGVzLnNsaWNlKDAsIDQpLnRvRml4ZWQoeyBzdHJhdGVneTogJ3Vuc2FmZS1jYXN0JywgbGVuZ3RoOiA0IH0pCiAgICBkdXAKICAgIGxlbgogICAgaW50Y18wIC8vIDAKICAgIGRpZyAxCiAgICA+PQogICAgaW50Y18wIC8vIDAKICAgIGRpZyAyCiAgICB1bmNvdmVyIDIKICAgIHNlbGVjdAogICAgaW50Y18yIC8vIDQKICAgIGRpZyAyCiAgICA+PQogICAgaW50Y18yIC8vIDQKICAgIHVuY292ZXIgMwogICAgdW5jb3ZlciAyCiAgICBzZWxlY3QKICAgIHN1YnN0cmluZzMKICAgIGR1cAogICAgYnVyeSA4CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzQxCiAgICAvLyBpZiAoIXRoaXMuYXBwcyhhZGRyNCkuZXhpc3RzKSB7CiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIGJueiBtdXN0R2V0TGlzdF9hZnRlcl9pZl9lbHNlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozNDIKICAgIC8vIGVuc3VyZShmYWxzZSwgZXJyQXBwTm90UmVnaXN0ZXJlZCkKICAgIGJ5dGVjIDUgLy8gIkVSUjo0MDQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NQogICAgLy8gbG9nKG1lc3NhZ2UpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo2CiAgICAvLyBlcnIoKQogICAgZXJyCgptdXN0R2V0TGlzdF9hZnRlcl9pZl9lbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzQ1CiAgICAvLyBjb25zdCBhcHBMaXN0ID0gdGhpcy5hcHBzKGFkZHI0KS52YWx1ZSBhcyBSZWFkb25seTx1aW50NjRbXT4KICAgIGRpZyA2CiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjM0NgogICAgLy8gY29uc3QgbWF0Y2hpbmdBcHBJRCA9IHRoaXMuZmluZEFkZHIoYWRkcmVzcywgYXBwTGlzdCkKICAgIGRpZyA2CiAgICBzd2FwCiAgICBjYWxsc3ViIGZpbmRBZGRyCiAgICBkdXAKICAgIGJ1cnkgNgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjQKICAgIC8vIGlmICghY29uZGl0aW9uKSB7CiAgICBibnogbXVzdEdldExpc3RfYWZ0ZXJfaWZfZWxzZUAxMAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjM0OAogICAgLy8gZW5zdXJlKG1hdGNoaW5nQXBwSUQgIT09IDAsIGVyckFwcE5vdFJlZ2lzdGVyZWQpCiAgICBieXRlYyA1IC8vICJFUlI6NDA0IgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjUKICAgIC8vIGxvZyhtZXNzYWdlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NgogICAgLy8gZXJyKCkKICAgIGVycgoKbXVzdEdldExpc3RfYWZ0ZXJfaWZfZWxzZUAxMDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozNDkKICAgIC8vIGFwcHMgPSBbLi4uYXBwcywgbWF0Y2hpbmdBcHBJRF0KICAgIGRpZyA0CiAgICBpdG9iCiAgICBieXRlYyA0IC8vIDB4MDAwMQogICAgc3dhcAogICAgY29uY2F0CiAgICBleHRyYWN0IDIgMAogICAgZGlnIDMKICAgIHN3YXAKICAgIGNvbmNhdCAvLyBvbiBlcnJvcjogbWF4IGFycmF5IGxlbmd0aCBleGNlZWRlZAogICAgZHVwCiAgICBleHRyYWN0IDIgMAogICAgbGVuCiAgICBpbnRjXzMgLy8gOAogICAgLwogICAgaXRvYgogICAgZXh0cmFjdCA2IDIKICAgIHJlcGxhY2UyIDAKICAgIGJ1cnkgMwogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIG11c3RHZXRMaXN0X2Zvcl9oZWFkZXJAMgoKbXVzdEdldExpc3RfYWZ0ZXJfZm9yQDc6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzM1CiAgICAvLyBAYWJpbWV0aG9kKHsgcmVhZG9ubHk6IHRydWUsIHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICBieXRlY18yIC8vIDB4MTUxZjdjNzUKICAgIGRpZyAzCiAgICBjb25jYXQKICAgIGxvZwogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKCi8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo6RXNjcmVnLmluY3JlYXNlQnVkZ2V0W3JvdXRpbmddKCkgLT4gdm9pZDoKaW5jcmVhc2VCdWRnZXQ6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzU4CiAgICAvLyBAYWJpbWV0aG9kKHsgdmFsaWRhdGVFbmNvZGluZzogJ3Vuc2FmZS1kaXNhYmxlZCcgfSkKICAgIHR4bmEgQXBwbGljYXRpb25BcmdzIDEKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozNjAKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBpdHhuczsgaSsrKSB7CiAgICBpbnRjXzAgLy8gMAoKaW5jcmVhc2VCdWRnZXRfd2hpbGVfdG9wQDI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzYwCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgaXR4bnM7IGkrKykgewogICAgZHVwCiAgICBkaWcgMgogICAgPAogICAgYnogaW5jcmVhc2VCdWRnZXRfYWZ0ZXJfd2hpbGVANQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjM2MS0zNjgKICAgIC8vIGl0eG4KICAgIC8vICAgLmFwcGxpY2F0aW9uQ2FsbCh7CiAgICAvLyAgICAgYXBwcm92YWxQcm9ncmFtOiBSRVRVUk5fVFJVRSwKICAgIC8vICAgICBjbGVhclN0YXRlUHJvZ3JhbTogUkVUVVJOX1RSVUUsCiAgICAvLyAgICAgb25Db21wbGV0aW9uOiBPbkNvbXBsZXRlQWN0aW9uLkRlbGV0ZUFwcGxpY2F0aW9uLAogICAgLy8gICAgIGZlZTogMCwKICAgIC8vICAgfSkKICAgIC8vICAgLnN1Ym1pdCgpCiAgICBpdHhuX2JlZ2luCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzY1CiAgICAvLyBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uRGVsZXRlQXBwbGljYXRpb24sCiAgICBwdXNoaW50IDUgLy8gNQogICAgaXR4bl9maWVsZCBPbkNvbXBsZXRpb24KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozNjQKICAgIC8vIGNsZWFyU3RhdGVQcm9ncmFtOiBSRVRVUk5fVFJVRSwKICAgIGJ5dGVjIDggLy8gMHgwYTgxMDEKICAgIGl0eG5fZmllbGQgQ2xlYXJTdGF0ZVByb2dyYW1QYWdlcwogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjM2MwogICAgLy8gYXBwcm92YWxQcm9ncmFtOiBSRVRVUk5fVFJVRSwKICAgIGJ5dGVjIDggLy8gMHgwYTgxMDEKICAgIGl0eG5fZmllbGQgQXBwcm92YWxQcm9ncmFtUGFnZXMKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozNjEtMzY3CiAgICAvLyBpdHhuCiAgICAvLyAgIC5hcHBsaWNhdGlvbkNhbGwoewogICAgLy8gICAgIGFwcHJvdmFsUHJvZ3JhbTogUkVUVVJOX1RSVUUsCiAgICAvLyAgICAgY2xlYXJTdGF0ZVByb2dyYW06IFJFVFVSTl9UUlVFLAogICAgLy8gICAgIG9uQ29tcGxldGlvbjogT25Db21wbGV0ZUFjdGlvbi5EZWxldGVBcHBsaWNhdGlvbiwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBwdXNoaW50IDYgLy8gNgogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjM2NgogICAgLy8gZmVlOiAwLAogICAgaW50Y18wIC8vIDAKICAgIGl0eG5fZmllbGQgRmVlCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzYxLTM2OAogICAgLy8gaXR4bgogICAgLy8gICAuYXBwbGljYXRpb25DYWxsKHsKICAgIC8vICAgICBhcHByb3ZhbFByb2dyYW06IFJFVFVSTl9UUlVFLAogICAgLy8gICAgIGNsZWFyU3RhdGVQcm9ncmFtOiBSRVRVUk5fVFJVRSwKICAgIC8vICAgICBvbkNvbXBsZXRpb246IE9uQ29tcGxldGVBY3Rpb24uRGVsZXRlQXBwbGljYXRpb24sCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzYwCiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgaXR4bnM7IGkrKykgewogICAgZHVwCiAgICBpbnRjXzEgLy8gMQogICAgKwogICAgYnVyeSAxCiAgICBiIGluY3JlYXNlQnVkZ2V0X3doaWxlX3RvcEAyCgppbmNyZWFzZUJ1ZGdldF9hZnRlcl93aGlsZUA1OgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjM1OAogICAgLy8gQGFiaW1ldGhvZCh7IHZhbGlkYXRlRW5jb2Rpbmc6ICd1bnNhZmUtZGlzYWJsZWQnIH0pCiAgICBpbnRjXzEgLy8gMQogICAgcmV0dXJuCgoKLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6Ok1ick1hbmFnZXIuZGVwb3NpdENyZWRpdHNbcm91dGluZ10oKSAtPiB2b2lkOgpkZXBvc2l0Q3JlZGl0czoKICAgIGludGNfMCAvLyAwCiAgICBieXRlY18zIC8vICIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozOAogICAgLy8gcHVibGljIGRlcG9zaXRDcmVkaXRzKGNyZWRpdG9yOiBBY2NvdW50LCB0eG46IGd0eG4uUGF5bWVudFR4bikgewogICAgdHhuYSBBcHBsaWNhdGlvbkFyZ3MgMQogICAgZHVwCiAgICBsZW4KICAgIHB1c2hpbnQgMzIgLy8gMzIKICAgID09CiAgICBhc3NlcnQgLy8gaW52YWxpZCBudW1iZXIgb2YgYnl0ZXMgZm9yIGFyYzQuc3RhdGljX2FycmF5PGFyYzQudWludDgsIDMyPgogICAgdHhuIEdyb3VwSW5kZXgKICAgIGludGNfMSAvLyAxCiAgICAtCiAgICBkdXBuIDIKICAgIGd0eG5zIFR5cGVFbnVtCiAgICBpbnRjXzEgLy8gcGF5CiAgICA9PQogICAgYXNzZXJ0IC8vIHRyYW5zYWN0aW9uIHR5cGUgaXMgcGF5CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozOQogICAgLy8gZW5zdXJlKHR4bi5yZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIGVyclJlY2VpdmVyKQogICAgZ3R4bnMgUmVjZWl2ZXIKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICA9PQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjQKICAgIC8vIGlmICghY29uZGl0aW9uKSB7CiAgICBibnogZGVwb3NpdENyZWRpdHNfYWZ0ZXJfaWZfZWxzZUA3CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozOQogICAgLy8gZW5zdXJlKHR4bi5yZWNlaXZlciA9PT0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MsIGVyclJlY2VpdmVyKQogICAgYnl0ZWMgOSAvLyAiRVJSOlJDViIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo1CiAgICAvLyBsb2cobWVzc2FnZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjYKICAgIC8vIGVycigpCiAgICBlcnIKCmRlcG9zaXRDcmVkaXRzX2FmdGVyX2lmX2Vsc2VANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjQwCiAgICAvLyBlbnN1cmUodHhuLmFtb3VudCA+IDAsIGVyckFtdCkKICAgIGR1cAogICAgZ3R4bnMgQW1vdW50CiAgICBkdXAKICAgIGJ1cnkgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjQKICAgIC8vIGlmICghY29uZGl0aW9uKSB7CiAgICBibnogZGVwb3NpdENyZWRpdHNfYWZ0ZXJfaWZfZWxzZUAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NDAKICAgIC8vIGVuc3VyZSh0eG4uYW1vdW50ID4gMCwgZXJyQW10KQogICAgYnl0ZWMgMTAgLy8gIkVSUjpBTVQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NQogICAgLy8gbG9nKG1lc3NhZ2UpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo2CiAgICAvLyBlcnIoKQogICAgZXJyCgpkZXBvc2l0Q3JlZGl0c19hZnRlcl9pZl9lbHNlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgZGlnIDIKICAgIGNvbmNhdAogICAgZHVwCiAgICBidXJ5IDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjQxCiAgICAvLyBjb25zdCBjdXJyZW50OiB1aW50NjQgPSB0aGlzLnVzZXJDcmVkaXRzKGNyZWRpdG9yKS5leGlzdHMgPyB0aGlzLnVzZXJDcmVkaXRzKGNyZWRpdG9yKS52YWx1ZSA6IDAKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgYnogZGVwb3NpdENyZWRpdHNfdGVybmFyeV9mYWxzZUAzCiAgICBkaWcgMwogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGJ0b2kKCmRlcG9zaXRDcmVkaXRzX3Rlcm5hcnlfbWVyZ2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjQzCiAgICAvLyBjb25zdCBtYnJCZWZvcmUgPSBHbG9iYWwuY3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcy5taW5CYWxhbmNlCiAgICBnbG9iYWwgQ3VycmVudEFwcGxpY2F0aW9uQWRkcmVzcwogICAgYWNjdF9wYXJhbXNfZ2V0IEFjY3RNaW5CYWxhbmNlCiAgICBhc3NlcnQgLy8gYWNjb3VudCBmdW5kZWQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjQ0CiAgICAvLyB0aGlzLnVzZXJDcmVkaXRzKGNyZWRpdG9yKS52YWx1ZSA9IGN1cnJlbnQgKyB0eG4uYW1vdW50CiAgICBzd2FwCiAgICBkaWcgNAogICAgKwogICAgaXRvYgogICAgZGlnIDUKICAgIHN3YXAKICAgIGJveF9wdXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjQ2CiAgICAvLyB0aGlzLm1hbmFnZU1ickNyZWRpdHMobWJyQmVmb3JlKQogICAgY2FsbHN1YiBtYW5hZ2VNYnJDcmVkaXRzCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czozOAogICAgLy8gcHVibGljIGRlcG9zaXRDcmVkaXRzKGNyZWRpdG9yOiBBY2NvdW50LCB0eG46IGd0eG4uUGF5bWVudFR4bikgewogICAgaW50Y18xIC8vIDEKICAgIHJldHVybgoKZGVwb3NpdENyZWRpdHNfdGVybmFyeV9mYWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NDEKICAgIC8vIGNvbnN0IGN1cnJlbnQ6IHVpbnQ2NCA9IHRoaXMudXNlckNyZWRpdHMoY3JlZGl0b3IpLmV4aXN0cyA/IHRoaXMudXNlckNyZWRpdHMoY3JlZGl0b3IpLnZhbHVlIDogMAogICAgaW50Y18wIC8vIDAKICAgIGIgZGVwb3NpdENyZWRpdHNfdGVybmFyeV9tZXJnZUA0CgoKLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6Ok1ick1hbmFnZXIud2l0aGRyYXdDcmVkaXRzW3JvdXRpbmddKCkgLT4gdm9pZDoKd2l0aGRyYXdDcmVkaXRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NTQKICAgIC8vIGNvbnN0IG1ickJlZm9yZSA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLm1pbkJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NTYKICAgIC8vIGVuc3VyZSh0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLmV4aXN0cywgZXJyQW10KQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjU2CiAgICAvLyBlbnN1cmUodGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS5leGlzdHMsIGVyckFtdCkKICAgIGJveF9sZW4KICAgIGJ1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjQKICAgIC8vIGlmICghY29uZGl0aW9uKSB7CiAgICBibnogd2l0aGRyYXdDcmVkaXRzX2FmdGVyX2lmX2Vsc2VAMwogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NTYKICAgIC8vIGVuc3VyZSh0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLmV4aXN0cywgZXJyQW10KQogICAgYnl0ZWMgMTAgLy8gIkVSUjpBTVQiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NQogICAgLy8gbG9nKG1lc3NhZ2UpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo2CiAgICAvLyBlcnIoKQogICAgZXJyCgp3aXRoZHJhd0NyZWRpdHNfYWZ0ZXJfaWZfZWxzZUAzOgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NTcKICAgIC8vIGNvbnN0IGNyZWRpdDogdWludDY0ID0gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjU3CiAgICAvLyBjb25zdCBjcmVkaXQ6IHVpbnQ2NCA9IHRoaXMudXNlckNyZWRpdHMoVHhuLnNlbmRlcikudmFsdWUKICAgIGJveF9nZXQKICAgIGFzc2VydCAvLyBCb3ggbXVzdCBoYXZlIHZhbHVlCiAgICBidG9pCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo3CiAgICAvLyB1c2VyQ3JlZGl0cyA9IEJveE1hcDxBY2NvdW50LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGJ5dGVjXzAgLy8gImMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo2MAogICAgLy8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS5kZWxldGUoKQogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjYwCiAgICAvLyB0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLmRlbGV0ZSgpCiAgICBib3hfZGVsCiAgICBwb3AKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjYxCiAgICAvLyBjb25zdCBtYnJBZnRlciA9IEdsb2JhbC5jdXJyZW50QXBwbGljYXRpb25BZGRyZXNzLm1pbkJhbGFuY2UKICAgIGdsb2JhbCBDdXJyZW50QXBwbGljYXRpb25BZGRyZXNzCiAgICBhY2N0X3BhcmFtc19nZXQgQWNjdE1pbkJhbGFuY2UKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NjIKICAgIC8vIGNvbnN0IGZpbmFsQ3JlZGl0OiB1aW50NjQgPSBjcmVkaXQgKyAobWJyQmVmb3JlIC0gbWJyQWZ0ZXIpCiAgICBkaWcgMgogICAgc3dhcAogICAgLQogICAgKwogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NjQtNzAKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogZmluYWxDcmVkaXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fYmVnaW4KICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjY2CiAgICAvLyByZWNlaXZlcjogVHhuLnNlbmRlciwKICAgIHR4biBTZW5kZXIKICAgIGl0eG5fZmllbGQgUmVjZWl2ZXIKICAgIGl0eG5fZmllbGQgQW1vdW50CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo2NC02OQogICAgLy8gaXR4bgogICAgLy8gICAucGF5bWVudCh7CiAgICAvLyAgICAgcmVjZWl2ZXI6IFR4bi5zZW5kZXIsCiAgICAvLyAgICAgYW1vdW50OiBmaW5hbENyZWRpdCwKICAgIC8vICAgICBmZWU6IDAsCiAgICAvLyAgIH0pCiAgICBpbnRjXzEgLy8gMQogICAgaXR4bl9maWVsZCBUeXBlRW51bQogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NjgKICAgIC8vIGZlZTogMCwKICAgIGludGNfMCAvLyAwCiAgICBpdHhuX2ZpZWxkIEZlZQogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NjQtNzAKICAgIC8vIGl0eG4KICAgIC8vICAgLnBheW1lbnQoewogICAgLy8gICAgIHJlY2VpdmVyOiBUeG4uc2VuZGVyLAogICAgLy8gICAgIGFtb3VudDogZmluYWxDcmVkaXQsCiAgICAvLyAgICAgZmVlOiAwLAogICAgLy8gICB9KQogICAgLy8gICAuc3VibWl0KCkKICAgIGl0eG5fc3VibWl0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo1MwogICAgLy8gcHVibGljIHdpdGhkcmF3Q3JlZGl0cygpIHsKICAgIGludGNfMSAvLyAxCiAgICByZXR1cm4KCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5hZG1pbk9ubHkoKSAtPiB2b2lkOgphZG1pbk9ubHk6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6ODcKICAgIC8vIGVuc3VyZShUeG4uc2VuZGVyID09PSB0aGlzLmFkbWluLnZhbHVlLm5hdGl2ZSwgZXJyQXV0aCkKICAgIHR4biBTZW5kZXIKICAgIGludGNfMCAvLyAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MjgKICAgIC8vIGFkbWluID0gR2xvYmFsU3RhdGU8QWRkcmVzcz4oeyBpbml0aWFsVmFsdWU6IG5ldyBBZGRyZXNzKFR4bi5zZW5kZXIpIH0pCiAgICBieXRlYyA3IC8vICJhZG1pbiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czo4NwogICAgLy8gZW5zdXJlKFR4bi5zZW5kZXIgPT09IHRoaXMuYWRtaW4udmFsdWUubmF0aXZlLCBlcnJBdXRoKQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgID09CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NAogICAgLy8gaWYgKCFjb25kaXRpb24pIHsKICAgIGJueiBhZG1pbk9ubHlfYWZ0ZXJfaWZfZWxzZUAzCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6ODcKICAgIC8vIGVuc3VyZShUeG4uc2VuZGVyID09PSB0aGlzLmFkbWluLnZhbHVlLm5hdGl2ZSwgZXJyQXV0aCkKICAgIHB1c2hieXRlcyAiRVJSOkFVVEgiCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NQogICAgLy8gbG9nKG1lc3NhZ2UpCiAgICBsb2cKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo2CiAgICAvLyBlcnIoKQogICAgZXJyCgphZG1pbk9ubHlfYWZ0ZXJfaWZfZWxzZUAzOgogICAgcmV0c3ViCgoKLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjpFc2NyZWcuZGVyaXZlQWRkclByZWZpeChhcHBJZDogdWludDY0KSAtPiBieXRlczoKZGVyaXZlQWRkclByZWZpeDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNDEKICAgIC8vIHByaXZhdGUgZGVyaXZlQWRkclByZWZpeChhcHBJZDogdWludDY0KTogYnl0ZXM8ND4gewogICAgcHJvdG8gMSAxCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTQyCiAgICAvLyByZXR1cm4gc2hhNTEyXzI1NihCeXRlc2BhcHBJRGAuY29uY2F0KG9wLml0b2IoYXBwSWQpKSkKICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgYnl0ZWMgMTEgLy8gImFwcElEIgogICAgc3dhcAogICAgY29uY2F0CiAgICBzaGE1MTJfMjU2CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTQyLTE0MwogICAgLy8gcmV0dXJuIHNoYTUxMl8yNTYoQnl0ZXNgYXBwSURgLmNvbmNhdChvcC5pdG9iKGFwcElkKSkpCiAgICAvLyAgIC5zbGljZSgwLCA0KQogICAgc3Vic3RyaW5nIDAgNAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE0Mi0xNDQKICAgIC8vIHJldHVybiBzaGE1MTJfMjU2KEJ5dGVzYGFwcElEYC5jb25jYXQob3AuaXRvYihhcHBJZCkpKQogICAgLy8gICAuc2xpY2UoMCwgNCkKICAgIC8vICAgLnRvRml4ZWQoeyBzdHJhdGVneTogJ3Vuc2FmZS1jYXN0JywgbGVuZ3RoOiA0IH0pCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5hcHBlbmRBcHBJZChrZXk6IGJ5dGVzLCBhcHBJZDogdWludDY0KSAtPiB2b2lkOgphcHBlbmRBcHBJZDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNjEKICAgIC8vIHByaXZhdGUgYXBwZW5kQXBwSWQoa2V5OiBieXRlczw0PiwgYXBwSWQ6IHVpbnQ2NCkgewogICAgcHJvdG8gMiAwCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTYyCiAgICAvLyBjb25zdCBleGlzdGluZyA9IHRoaXMuYXBwcyhrZXkpLnZhbHVlIGFzIFJlYWRvbmx5PHVpbnQ2NFtdPgogICAgZnJhbWVfZGlnIC0yCiAgICBib3hfZ2V0CiAgICBhc3NlcnQgLy8gQm94IG11c3QgaGF2ZSB2YWx1ZQogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE2Mi0xNjMKICAgIC8vIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5hcHBzKGtleSkudmFsdWUgYXMgUmVhZG9ubHk8dWludDY0W10+CiAgICAvLyBmb3IgKGNvbnN0IGV4aXN0aW5nSWQgb2YgZXhpc3RpbmcpIHsKICAgIGZyYW1lX2RpZyAtMgogICAgaW50Y18wIC8vIDAKICAgIHB1c2hpbnQgMiAvLyAyCiAgICBib3hfZXh0cmFjdAogICAgYnRvaQogICAgaW50Y18wIC8vIDAKCmFwcGVuZEFwcElkX2Zvcl9oZWFkZXJAMToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNjMKICAgIC8vIGZvciAoY29uc3QgZXhpc3RpbmdJZCBvZiBleGlzdGluZykgewogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAxCiAgICA8CiAgICBieiBhcHBlbmRBcHBJZF9hZnRlcl9mb3JANgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE2Mi0xNjMKICAgIC8vIGNvbnN0IGV4aXN0aW5nID0gdGhpcy5hcHBzKGtleSkudmFsdWUgYXMgUmVhZG9ubHk8dWludDY0W10+CiAgICAvLyBmb3IgKGNvbnN0IGV4aXN0aW5nSWQgb2YgZXhpc3RpbmcpIHsKICAgIGZyYW1lX2RpZyAyCiAgICBpbnRjXzMgLy8gOAogICAgKgogICAgcHVzaGludCAyIC8vIDIKICAgICsKICAgIGZyYW1lX2RpZyAtMgogICAgc3dhcAogICAgaW50Y18zIC8vIDgKICAgIGJveF9leHRyYWN0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTYzCiAgICAvLyBmb3IgKGNvbnN0IGV4aXN0aW5nSWQgb2YgZXhpc3RpbmcpIHsKICAgIGJ0b2kKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNjQKICAgIC8vIGlmIChleGlzdGluZ0lkID09PSBhcHBJZCkgewogICAgZnJhbWVfZGlnIC0xCiAgICA9PQogICAgYnogYXBwZW5kQXBwSWRfYWZ0ZXJfaWZfZWxzZUA0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTY1CiAgICAvLyByZXR1cm4KICAgIHJldHN1YgoKYXBwZW5kQXBwSWRfYWZ0ZXJfaWZfZWxzZUA0OgogICAgZnJhbWVfZGlnIDIKICAgIGludGNfMSAvLyAxCiAgICArCiAgICBmcmFtZV9idXJ5IDIKICAgIGIgYXBwZW5kQXBwSWRfZm9yX2hlYWRlckAxCgphcHBlbmRBcHBJZF9hZnRlcl9mb3JANjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNjgKICAgIC8vIHRoaXMuYXBwcyhrZXkpLnZhbHVlID0gWy4uLmV4aXN0aW5nLCBhcHBJZF0KICAgIGZyYW1lX2RpZyAtMQogICAgaXRvYgogICAgYnl0ZWMgNCAvLyAweDAwMDEKICAgIHN3YXAKICAgIGNvbmNhdAogICAgZXh0cmFjdCAyIDAKICAgIGZyYW1lX2RpZyAwCiAgICBzd2FwCiAgICBjb25jYXQgLy8gb24gZXJyb3I6IG1heCBhcnJheSBsZW5ndGggZXhjZWVkZWQKICAgIGR1cAogICAgZXh0cmFjdCAyIDAKICAgIGxlbgogICAgaW50Y18zIC8vIDgKICAgIC8KICAgIGl0b2IKICAgIGV4dHJhY3QgNiAyCiAgICByZXBsYWNlMiAwCiAgICBmcmFtZV9kaWcgLTIKICAgIGJveF9kZWwKICAgIHBvcAogICAgZnJhbWVfZGlnIC0yCiAgICBzd2FwCiAgICBib3hfcHV0CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTY5CiAgICAvLyB0aGlzLmNvdW50ZXIudmFsdWUgKz0gMQogICAgaW50Y18wIC8vIDAKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czozMgogICAgLy8gY291bnRlciA9IEdsb2JhbFN0YXRlPHVpbnQ2ND4oeyBpbml0aWFsVmFsdWU6IDAgfSkKICAgIGJ5dGVjXzEgLy8gImNvdW50ZXIiCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTY5CiAgICAvLyB0aGlzLmNvdW50ZXIudmFsdWUgKz0gMQogICAgYXBwX2dsb2JhbF9nZXRfZXgKICAgIGFzc2VydCAvLyBjaGVjayBHbG9iYWxTdGF0ZSBleGlzdHMKICAgIGludGNfMSAvLyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MzIKICAgIC8vIGNvdW50ZXIgPSBHbG9iYWxTdGF0ZTx1aW50NjQ+KHsgaW5pdGlhbFZhbHVlOiAwIH0pCiAgICBieXRlY18xIC8vICJjb3VudGVyIgogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE2OQogICAgLy8gdGhpcy5jb3VudGVyLnZhbHVlICs9IDEKICAgIHN3YXAKICAgIGFwcF9nbG9iYWxfcHV0CiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6OkVzY3JlZy5maW5kQWRkcihhZGRyZXNzOiBieXRlcywgYXBwczogYnl0ZXMpIC0+IHVpbnQ2NDoKZmluZEFkZHI6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTc4CiAgICAvLyBwcml2YXRlIGZpbmRBZGRyKGFkZHJlc3M6IEFkZHJlc3MsIGFwcHM6IFJlYWRvbmx5PHVpbnQ2NFtdPik6IHVpbnQ2NCB7CiAgICBwcm90byAyIDEKICAgIGJ5dGVjXzMgLy8gIiIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBhcHBzLmxlbmd0aDsgaSsrKSB7CiAgICBpbnRjXzAgLy8gMAoKZmluZEFkZHJfd2hpbGVfdG9wQDE6CiAgICAvLyBzbWFydF9jb250cmFjdHMvZXNjcmVnL2NvbnRyYWN0LmFsZ28udHM6MTc5CiAgICAvLyBmb3IgKGxldCBpOiB1aW50NjQgPSAwOyBpIDwgYXBwcy5sZW5ndGg7IGkrKykgewogICAgZnJhbWVfZGlnIC0xCiAgICBpbnRjXzAgLy8gMAogICAgZXh0cmFjdF91aW50MTYgLy8gb24gZXJyb3I6IGludmFsaWQgYXJyYXkgbGVuZ3RoIGhlYWRlcgogICAgZnJhbWVfZGlnIDEKICAgID4KICAgIGJ6IGZpbmRBZGRyX2FmdGVyX3doaWxlQDUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxODAKICAgIC8vIGlmIChhZGRyZXNzLm5hdGl2ZS5ieXRlcyA9PT0gdGhpcy5kZXJpdmVBZGRyKGFwcHNbaV0pKSB7CiAgICBmcmFtZV9kaWcgLTEKICAgIGV4dHJhY3QgMiAwCiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18zIC8vIDgKICAgICoKICAgIGV4dHJhY3RfdWludDY0CiAgICBkdXAKICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL2VzY3JlZy9jb250cmFjdC5hbGdvLnRzOjE1MwogICAgLy8gcmV0dXJuIHNoYTUxMl8yNTYoQnl0ZXNgYXBwSURgLmNvbmNhdChvcC5pdG9iKGFwcElkKSkpCiAgICBpdG9iCiAgICBieXRlYyAxMSAvLyAiYXBwSUQiCiAgICBzd2FwCiAgICBjb25jYXQKICAgIHNoYTUxMl8yNTYKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxODAKICAgIC8vIGlmIChhZGRyZXNzLm5hdGl2ZS5ieXRlcyA9PT0gdGhpcy5kZXJpdmVBZGRyKGFwcHNbaV0pKSB7CiAgICBmcmFtZV9kaWcgLTIKICAgID09CiAgICBieiBmaW5kQWRkcl9hZnRlcl9pZl9lbHNlQDQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxODEKICAgIC8vIHJldHVybiBhcHBzW2ldCiAgICByZXRzdWIKCmZpbmRBZGRyX2FmdGVyX2lmX2Vsc2VANDoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxNzkKICAgIC8vIGZvciAobGV0IGk6IHVpbnQ2NCA9IDA7IGkgPCBhcHBzLmxlbmd0aDsgaSsrKSB7CiAgICBmcmFtZV9kaWcgMQogICAgaW50Y18xIC8vIDEKICAgICsKICAgIGZyYW1lX2J1cnkgMQogICAgYiBmaW5kQWRkcl93aGlsZV90b3BAMQoKZmluZEFkZHJfYWZ0ZXJfd2hpbGVANToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9lc2NyZWcvY29udHJhY3QuYWxnby50czoxODQKICAgIC8vIHJldHVybiAwCiAgICBpbnRjXzAgLy8gMAogICAgZnJhbWVfYnVyeSAwCiAgICByZXRzdWIKCgovLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo6TWJyTWFuYWdlci5tYW5hZ2VNYnJDcmVkaXRzKG1ickJlZm9yZTogdWludDY0KSAtPiB2b2lkOgptYW5hZ2VNYnJDcmVkaXRzOgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTUKICAgIC8vIHByb3RlY3RlZCBtYW5hZ2VNYnJDcmVkaXRzKG1ickJlZm9yZTogdWludDY0KSB7CiAgICBwcm90byAxIDAKICAgIGJ5dGVjXzMgLy8gIiIKICAgIGR1cG4gMgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTYKICAgIC8vIGNvbnN0IG1ickFmdGVyID0gR2xvYmFsLmN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MubWluQmFsYW5jZQogICAgZ2xvYmFsIEN1cnJlbnRBcHBsaWNhdGlvbkFkZHJlc3MKICAgIGFjY3RfcGFyYW1zX2dldCBBY2N0TWluQmFsYW5jZQogICAgc3dhcAogICAgZHVwCiAgICB1bmNvdmVyIDIKICAgIGFzc2VydCAvLyBhY2NvdW50IGZ1bmRlZAogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTcKICAgIC8vIGlmIChtYnJBZnRlciA9PT0gbWJyQmVmb3JlKSByZXR1cm4KICAgIGZyYW1lX2RpZyAtMQogICAgPT0KICAgIGJ6IG1hbmFnZU1ickNyZWRpdHNfZWxzZV9ib2R5QDIKICAgIHJldHN1YgoKbWFuYWdlTWJyQ3JlZGl0c19lbHNlX2JvZHlAMjoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjE4CiAgICAvLyBlbHNlIGlmIChtYnJBZnRlciA+IG1ickJlZm9yZSkgewogICAgZnJhbWVfZGlnIDMKICAgIGZyYW1lX2RpZyAtMQogICAgPgogICAgYnogbWFuYWdlTWJyQ3JlZGl0c19lbHNlX2JvZHlANwogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MTkKICAgIC8vIGNvbnN0IGNyZWRpdE5lZWRlZDogdWludDY0ID0gbWJyQWZ0ZXIgLSBtYnJCZWZvcmUKICAgIGZyYW1lX2RpZyAzCiAgICBmcmFtZV9kaWcgLTEKICAgIC0KICAgIGZyYW1lX2J1cnkgMAogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjAKICAgIC8vIGNvbnN0IHVzZXJDcmVkaXQ6IHVpbnQ2NCA9IHRoaXMudXNlckNyZWRpdHMoVHhuLnNlbmRlcikuZXhpc3RzID8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZSA6IDAKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjcKICAgIC8vIHVzZXJDcmVkaXRzID0gQm94TWFwPEFjY291bnQsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMAogICAgLy8gY29uc3QgdXNlckNyZWRpdDogdWludDY0ID0gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS5leGlzdHMgPyB0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLnZhbHVlIDogMAogICAgYm94X2xlbgogICAgYnVyeSAxCiAgICBieiBtYW5hZ2VNYnJDcmVkaXRzX3Rlcm5hcnlfZmFsc2VANQogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjAKICAgIC8vIGNvbnN0IHVzZXJDcmVkaXQ6IHVpbnQ2NCA9IHRoaXMudXNlckNyZWRpdHMoVHhuLnNlbmRlcikuZXhpc3RzID8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZSA6IDAKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjcKICAgIC8vIHVzZXJDcmVkaXRzID0gQm94TWFwPEFjY291bnQsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMAogICAgLy8gY29uc3QgdXNlckNyZWRpdDogdWludDY0ID0gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS5leGlzdHMgPyB0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLnZhbHVlIDogMAogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGJ0b2kKICAgIGZyYW1lX2J1cnkgMgoKbWFuYWdlTWJyQ3JlZGl0c190ZXJuYXJ5X21lcmdlQDY6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMQogICAgLy8gZW5zdXJlKHVzZXJDcmVkaXQgPj0gY3JlZGl0TmVlZGVkLCBlcnJDcmVkaXQpCiAgICBmcmFtZV9kaWcgMgogICAgZnJhbWVfZGlnIDAKICAgID49CiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NAogICAgLy8gaWYgKCFjb25kaXRpb24pIHsKICAgIGJueiBtYW5hZ2VNYnJDcmVkaXRzX2FmdGVyX2lmX2Vsc2VAMTUKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIxCiAgICAvLyBlbnN1cmUodXNlckNyZWRpdCA+PSBjcmVkaXROZWVkZWQsIGVyckNyZWRpdCkKICAgIHB1c2hieXRlcyAiRVJSOkNSRCIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo1CiAgICAvLyBsb2cobWVzc2FnZSkKICAgIGxvZwogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjYKICAgIC8vIGVycigpCiAgICBlcnIKCm1hbmFnZU1ickNyZWRpdHNfYWZ0ZXJfaWZfZWxzZUAxNToKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjIyCiAgICAvLyB0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLnZhbHVlID0gdXNlckNyZWRpdCAtIGNyZWRpdE5lZWRlZAogICAgZnJhbWVfZGlnIDIKICAgIGZyYW1lX2RpZyAwCiAgICAtCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo3CiAgICAvLyB1c2VyQ3JlZGl0cyA9IEJveE1hcDxBY2NvdW50LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGJ5dGVjXzAgLy8gImMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMgogICAgLy8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZSA9IHVzZXJDcmVkaXQgLSBjcmVkaXROZWVkZWQKICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjcKICAgIC8vIHVzZXJDcmVkaXRzID0gQm94TWFwPEFjY291bnQsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMgogICAgLy8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZSA9IHVzZXJDcmVkaXQgLSBjcmVkaXROZWVkZWQKICAgIHN3YXAKICAgIGl0b2IKICAgIGJveF9wdXQKICAgIHJldHN1YgoKbWFuYWdlTWJyQ3JlZGl0c190ZXJuYXJ5X2ZhbHNlQDU6CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyMAogICAgLy8gY29uc3QgdXNlckNyZWRpdDogdWludDY0ID0gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS5leGlzdHMgPyB0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLnZhbHVlIDogMAogICAgaW50Y18wIC8vIDAKICAgIGZyYW1lX2J1cnkgMgogICAgYiBtYW5hZ2VNYnJDcmVkaXRzX3Rlcm5hcnlfbWVyZ2VANgoKbWFuYWdlTWJyQ3JlZGl0c19lbHNlX2JvZHlANzoKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI0CiAgICAvLyBjb25zdCBjcmVkaXRUb1JldHVybjogdWludDY0ID0gbWJyQmVmb3JlIC0gbWJyQWZ0ZXIKICAgIGZyYW1lX2RpZyAtMQogICAgZnJhbWVfZGlnIDMKICAgIC0KICAgIGZyYW1lX2J1cnkgMQogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjUKICAgIC8vIGVuc3VyZSh0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLmV4aXN0cywgZXJyUmVjZWl2ZXIpCiAgICB0eG4gU2VuZGVyCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo3CiAgICAvLyB1c2VyQ3JlZGl0cyA9IEJveE1hcDxBY2NvdW50LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGNvbmNhdAogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjUKICAgIC8vIGVuc3VyZSh0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLmV4aXN0cywgZXJyUmVjZWl2ZXIpCiAgICBib3hfbGVuCiAgICBidXJ5IDEKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9jb21tb24uYWxnby50czo0CiAgICAvLyBpZiAoIWNvbmRpdGlvbikgewogICAgYm56IG1hbmFnZU1ickNyZWRpdHNfYWZ0ZXJfaWZfZWxzZUAxMQogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjUKICAgIC8vIGVuc3VyZSh0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLmV4aXN0cywgZXJyUmVjZWl2ZXIpCiAgICBieXRlYyA5IC8vICJFUlI6UkNWIgogICAgLy8gc21hcnRfY29udHJhY3RzL2NvbW1vbi5hbGdvLnRzOjUKICAgIC8vIGxvZyhtZXNzYWdlKQogICAgbG9nCiAgICAvLyBzbWFydF9jb250cmFjdHMvY29tbW9uLmFsZ28udHM6NgogICAgLy8gZXJyKCkKICAgIGVycgoKbWFuYWdlTWJyQ3JlZGl0c19hZnRlcl9pZl9lbHNlQDExOgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBieXRlY18wIC8vICJjIgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6MjYKICAgIC8vIHRoaXMudXNlckNyZWRpdHMoVHhuLnNlbmRlcikudmFsdWUgKz0gY3JlZGl0VG9SZXR1cm4KICAgIHR4biBTZW5kZXIKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjcKICAgIC8vIHVzZXJDcmVkaXRzID0gQm94TWFwPEFjY291bnQsIHVpbnQ2ND4oeyBrZXlQcmVmaXg6ICdjJyB9KQogICAgY29uY2F0CiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNgogICAgLy8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZSArPSBjcmVkaXRUb1JldHVybgogICAgYm94X2dldAogICAgYXNzZXJ0IC8vIEJveCBtdXN0IGhhdmUgdmFsdWUKICAgIGJ0b2kKICAgIGZyYW1lX2RpZyAxCiAgICArCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czo3CiAgICAvLyB1c2VyQ3JlZGl0cyA9IEJveE1hcDxBY2NvdW50LCB1aW50NjQ+KHsga2V5UHJlZml4OiAnYycgfSkKICAgIGJ5dGVjXzAgLy8gImMiCiAgICAvLyBzbWFydF9jb250cmFjdHMvbWJyLW1hbmFnZXIvY29udHJhY3QuYWxnby50czoyNgogICAgLy8gdGhpcy51c2VyQ3JlZGl0cyhUeG4uc2VuZGVyKS52YWx1ZSArPSBjcmVkaXRUb1JldHVybgogICAgdHhuIFNlbmRlcgogICAgLy8gc21hcnRfY29udHJhY3RzL21ici1tYW5hZ2VyL2NvbnRyYWN0LmFsZ28udHM6NwogICAgLy8gdXNlckNyZWRpdHMgPSBCb3hNYXA8QWNjb3VudCwgdWludDY0Pih7IGtleVByZWZpeDogJ2MnIH0pCiAgICBjb25jYXQKICAgIC8vIHNtYXJ0X2NvbnRyYWN0cy9tYnItbWFuYWdlci9jb250cmFjdC5hbGdvLnRzOjI2CiAgICAvLyB0aGlzLnVzZXJDcmVkaXRzKFR4bi5zZW5kZXIpLnZhbHVlICs9IGNyZWRpdFRvUmV0dXJuCiAgICBzd2FwCiAgICBpdG9iCiAgICBib3hfcHV0CiAgICByZXRzdWIK",
        "clear": "I3ByYWdtYSB2ZXJzaW9uIDExCiNwcmFnbWEgdHlwZXRyYWNrIGZhbHNlCgovLyBAYWxnb3JhbmRmb3VuZGF0aW9uL2FsZ29yYW5kLXR5cGVzY3JpcHQvYmFzZS1jb250cmFjdC5kLnRzOjpCYXNlQ29udHJhY3QuY2xlYXJTdGF0ZVByb2dyYW0oKSAtPiB1aW50NjQ6Cm1haW46CiAgICBwdXNoaW50IDEgLy8gMQogICAgcmV0dXJuCg=="
    },
    "state": {
        "global": {
            "num_byte_slices": 1,
            "num_uints": 1
        },
        "local": {
            "num_byte_slices": 0,
            "num_uints": 0
        }
    },
    "schema": {
        "global": {
            "declared": {
                "admin": {
                    "type": "bytes",
                    "key": "admin",
                    "descr": "Contract admin"
                },
                "counter": {
                    "type": "uint64",
                    "key": "counter",
                    "descr": "Counter for the number of registered applications"
                }
            },
            "reserved": {}
        },
        "local": {
            "declared": {},
            "reserved": {}
        }
    },
    "contract": {
        "name": "Escreg",
        "methods": [
            {
                "name": "deleteApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Delete the application."
            },
            {
                "name": "updateApplication",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Update the application."
            },
            {
                "name": "withdraw",
                "args": [
                    {
                        "type": "uint64",
                        "name": "amount",
                        "desc": "Amount of microAlgos to withdraw."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Withdraw funds from the contract to the admin."
            },
            {
                "name": "deleteBoxes",
                "args": [
                    {
                        "type": "byte[4][]",
                        "name": "boxKeys",
                        "desc": "Array of 4-byte box keys to delete."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Delete app registry boxes by their keys."
            },
            {
                "name": "register",
                "args": [
                    {
                        "type": "uint64",
                        "name": "appId",
                        "desc": "App ID of the application to register. The app address derived from this ID will be registered in the contract and can be retrieved later."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Register a single application escrow account"
            },
            {
                "name": "registerList",
                "args": [
                    {
                        "type": "uint64[]",
                        "name": "appIds",
                        "desc": "Array of App IDs to register. The app addresses derived from these IDs will be registered in the contract and can be retrieved later."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Register multiple application escrow accounts in a single transaction. This is more efficient than calling register multiple times as the MBR cost can be paid for in a single payment and the app IDs can be stored more efficiently in the contract state."
            },
            {
                "name": "exists",
                "args": [
                    {
                        "type": "address",
                        "name": "address",
                        "desc": "App Escrow to check"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "bool",
                    "desc": "boolean indicating whether the given address is registered in the contract"
                },
                "desc": "Return true if an app escrow account exists for the given address, false otherwise."
            },
            {
                "name": "get",
                "args": [
                    {
                        "type": "address",
                        "name": "address",
                        "desc": "App Escrow to get the app ID for"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64",
                    "desc": "App ID for the given address, or 0 if not registered"
                },
                "desc": "Get the app ID for the given app escrow address. Returns 0 if the app escrow is not registered in the contract."
            },
            {
                "name": "mustGet",
                "args": [
                    {
                        "type": "address",
                        "name": "address",
                        "desc": "App Escrow to get the app ID for"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64",
                    "desc": "App ID for the given address"
                },
                "desc": "Get the app ID for the given app escrow address. Throws an error if the app escrow is not registered in the contract."
            },
            {
                "name": "getWithAuth",
                "args": [
                    {
                        "type": "address",
                        "name": "address",
                        "desc": "App Escrow to get the app ID for, along with its auth address"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64)",
                    "desc": "[app ID for the given address, app ID for the auth address], or 0 for each if not registered"
                },
                "desc": "Get the app ID for the given app escrow address and its auth address. Returns 0 for each if not registered in the contract."
            },
            {
                "name": "getWithAuthList",
                "args": [
                    {
                        "type": "address[]",
                        "name": "addresses",
                        "desc": "App Escrows to get the app IDs for, along with their auth addresses"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "(uint64,uint64)[]",
                    "desc": "Array of [app ID for the given address, app ID for the auth address] for each input address, or 0 for each if not registered"
                },
                "desc": "Get the app ID for multiple app escrow addresses and their auth addresses. Returns 0 for each if not registered in the contract."
            },
            {
                "name": "getList",
                "args": [
                    {
                        "type": "address[]",
                        "name": "addresses",
                        "desc": "App Escrows to get the app IDs for"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64[]",
                    "desc": "Array of app IDs for each input address, or 0 if not registered"
                },
                "desc": "Get the app IDs for multiple app escrow addresses. Returns 0 for each if not registered in the contract."
            },
            {
                "name": "mustGetList",
                "args": [
                    {
                        "type": "address[]",
                        "name": "addresses",
                        "desc": "App Escrows to get the app IDs for"
                    }
                ],
                "readonly": true,
                "returns": {
                    "type": "uint64[]",
                    "desc": "Array of app IDs for each input address"
                },
                "desc": "Get the app IDs for multiple app escrow addresses. Throws an error if any of the app escrows are not registered in the contract."
            },
            {
                "name": "increaseBudget",
                "args": [
                    {
                        "type": "uint64",
                        "name": "itxns",
                        "desc": "Number of itxns to perform."
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Utility for explicitly increasing the budget of a transaction group by performing no-op inner transactions."
            },
            {
                "name": "depositCredits",
                "args": [
                    {
                        "type": "address",
                        "name": "creditor",
                        "desc": "account to credit"
                    },
                    {
                        "type": "pay",
                        "name": "txn",
                        "desc": "payment transaction to contract. amount is the credit received"
                    }
                ],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "public method to deposit MBR credits for an account"
            },
            {
                "name": "withdrawCredits",
                "args": [],
                "readonly": false,
                "returns": {
                    "type": "void"
                },
                "desc": "Withdraw all remaining MBR credits for sender. This will delete the user credit box, so all credits are withdrawn including the MBR locked for the box itself."
            }
        ],
        "networks": {}
    },
    "bare_call_config": {
        "no_op": "CREATE"
    }
}